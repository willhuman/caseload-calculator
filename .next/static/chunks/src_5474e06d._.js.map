{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/components/Header.tsx"],"sourcesContent":["import Image from 'next/image';\n\nexport function Header() {\n  return (\n    <header className=\"w-full bg-nesso-card border-b border-black/5\">\n      <div className=\"container mx-auto max-w-4xl px-4 py-8\">\n        {/* Centered stack layout */}\n        <div className=\"text-center space-y-3\">\n          {/* Main title */}\n          <h1 className=\"text-2xl md:text-3xl font-semibold tracking-tight text-nesso-navy\">\n            Therapist Caseload Calculator\n          </h1>\n\n          {/* Powered by Nesso row - centered */}\n          <div className=\"flex justify-center items-center gap-2 text-sm text-nesso-ink/80\">\n            <span>Powered by</span>\n            <a\n              href=\"https://nessoapp.com\"\n              target=\"_blank\"\n              rel=\"noopener\"\n              aria-label=\"Nesso\"\n              className=\"inline-flex items-center hover:opacity-80 transition-opacity\"\n            >\n              <Image\n                src=\"/assets/nesso-logo-real.svg\"\n                alt=\"\"\n                width={80}\n                height={20}\n                className=\"h-5\"\n              />\n            </a>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;;;AAEO,SAAS;IACd,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;sBAEb,cAAA,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAG,WAAU;kCAAoE;;;;;;kCAKlF,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;0CAAK;;;;;;0CACN,6LAAC;gCACC,MAAK;gCACL,QAAO;gCACP,KAAI;gCACJ,cAAW;gCACX,WAAU;0CAEV,cAAA,6LAAC,2IAAK;oCACJ,KAAI;oCACJ,KAAI;oCACJ,OAAO;oCACP,QAAQ;oCACR,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1B;KAlCgB","debugId":null}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACZ,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACjB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACvB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACnB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,KASb;QATa,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF,GATa;IAUd,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 305, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,KAA4D;QAA5D,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC,GAA5D;IACb,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,KAGoC;QAHpC,EACb,SAAS,EACT,GAAG,OAC8C,GAHpC;IAIb,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/lib/analytics.ts"],"sourcesContent":["/**\n * Analytics tracking utility\n * Provides a simple interface that can be later connected to real analytics tools\n */\n\nexport interface AnalyticsEvent {\n  action: string;\n  category: string;\n  label?: string;\n  value?: number;\n  data?: unknown;\n}\n\nexport function trackEvent(event: AnalyticsEvent): void {\n  // For now, log to console with a clear format\n  console.log(`[Analytics] ${event.category}: ${event.action}`, {\n    label: event.label,\n    value: event.value,\n    data: event.data,\n    timestamp: new Date().toISOString()\n  });\n\n  // TODO: Replace with real analytics service integration\n  // Examples:\n  // - Google Analytics 4: gtag('event', event.action, { ... })\n  // - Mixpanel: mixpanel.track(event.action, { ... })\n  // - Custom analytics API: fetch('/api/analytics', { ... })\n}\n\n// Predefined event tracking functions for common actions\nexport const analytics = {\n  calculateClicked: (data?: unknown) => {\n    trackEvent({\n      action: 'calculate_clicked',\n      category: 'caseload_calculator',\n      label: 'primary_calculation',\n      data\n    });\n  },\n\n  emailReportOpened: () => {\n    trackEvent({\n      action: 'email_report_opened',\n      category: 'caseload_calculator',\n      label: 'modal_opened'\n    });\n  },\n\n  emailReportSubmitted: (email: string) => {\n    trackEvent({\n      action: 'email_report_submitted',\n      category: 'caseload_calculator',\n      label: 'form_submitted',\n      data: { email }\n    });\n  },\n\n  sessionFeeSliderChanged: (value: number) => {\n    trackEvent({\n      action: 'session_fee_slider_changed',\n      category: 'caseload_calculator',\n      label: 'what_if_tool',\n      value\n    });\n  }\n};"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;AAUM,SAAS,WAAW,KAAqB;IAC9C,8CAA8C;IAC9C,QAAQ,GAAG,CAAC,AAAC,eAAiC,OAAnB,MAAM,QAAQ,EAAC,MAAiB,OAAb,MAAM,MAAM,GAAI;QAC5D,OAAO,MAAM,KAAK;QAClB,OAAO,MAAM,KAAK;QAClB,MAAM,MAAM,IAAI;QAChB,WAAW,IAAI,OAAO,WAAW;IACnC;AAEA,wDAAwD;AACxD,YAAY;AACZ,6DAA6D;AAC7D,oDAAoD;AACpD,2DAA2D;AAC7D;AAGO,MAAM,YAAY;IACvB,kBAAkB,CAAC;QACjB,WAAW;YACT,QAAQ;YACR,UAAU;YACV,OAAO;YACP;QACF;IACF;IAEA,mBAAmB;QACjB,WAAW;YACT,QAAQ;YACR,UAAU;YACV,OAAO;QACT;IACF;IAEA,sBAAsB,CAAC;QACrB,WAAW;YACT,QAAQ;YACR,UAAU;YACV,OAAO;YACP,MAAM;gBAAE;YAAM;QAChB;IACF;IAEA,yBAAyB,CAAC;QACxB,WAAW;YACT,QAAQ;YACR,UAAU;YACV,OAAO;YACP;QACF;IACF;AACF","debugId":null}},
    {"offset": {"line": 436, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/components/InputCard.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { CalculationInputs } from '@/lib/calculations';\nimport { analytics } from '@/lib/analytics';\n\ninterface InputCardProps {\n  onCalculate: (inputs: CalculationInputs) => void;\n  isCalculating?: boolean;\n}\n\ninterface FormData {\n  weeklyHours: string;\n  monthlyIncome: string;\n  sessionFee: string;\n  noShowRate: string;\n}\n\ninterface ValidationErrors {\n  weeklyHours?: string;\n  monthlyIncome?: string;\n  sessionFee?: string;\n  noShowRate?: string;\n}\n\nexport function InputCard({ onCalculate, isCalculating = false }: InputCardProps) {\n  // Single source of truth - all form data as strings\n  const [formData, setFormData] = useState<FormData>({\n    weeklyHours: '',\n    monthlyIncome: '',\n    sessionFee: '',\n    noShowRate: ''\n  });\n\n  const [errors, setErrors] = useState<ValidationErrors>({});\n  const [touched, setTouched] = useState<Record<keyof FormData, boolean>>({\n    weeklyHours: false,\n    monthlyIncome: false,\n    sessionFee: false,\n    noShowRate: false\n  });\n\n  // Currency formatting utilities\n  const formatCurrency = (value: string): string => {\n    // Remove all non-digits\n    const digits = value.replace(/\\D/g, '');\n    if (!digits) return '';\n\n    // Convert to number and format as currency\n    const number = parseInt(digits, 10);\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(number);\n  };\n\n  const parseCurrency = (value: string): number => {\n    // Remove currency symbols and parse\n    const digits = value.replace(/\\D/g, '');\n    return parseInt(digits, 10) || 0;\n  };\n\n  // Parse form data to calculation inputs\n  const parseFormData = (): CalculationInputs => {\n    return {\n      weeklyHours: parseFloat(formData.weeklyHours) || 0,\n      monthlyIncome: parseCurrency(formData.monthlyIncome),\n      sessionFee: parseCurrency(formData.sessionFee),\n      noShowRate: parseFloat(formData.noShowRate) || 0\n    };\n  };\n\n  // Validation functions\n  const validateField = (name: keyof FormData, value: string): string | undefined => {\n    const trimmedValue = value.trim();\n\n    switch (name) {\n      case 'weeklyHours':\n        if (!trimmedValue) return 'Weekly hours is required';\n        const hours = parseFloat(trimmedValue);\n        if (isNaN(hours) || hours <= 0) return 'Weekly hours must be greater than 0';\n        if (hours > 80) return 'Weekly hours should be realistic (≤80)';\n        break;\n      case 'monthlyIncome':\n        if (!trimmedValue) return 'Monthly income is required';\n        const income = parseCurrency(trimmedValue);\n        if (income <= 0) return 'Monthly income must be greater than 0';\n        break;\n      case 'sessionFee':\n        if (!trimmedValue) return 'Session fee is required';\n        const fee = parseCurrency(trimmedValue);\n        if (fee <= 0) return 'Session fee must be greater than 0';\n        break;\n      case 'noShowRate':\n        if (!trimmedValue) return 'No-show rate is required';\n        const rate = parseFloat(trimmedValue);\n        if (isNaN(rate) || rate < 0) return 'No-show rate cannot be negative';\n        if (rate > 50) return 'No-show rate seems too high (>50%)';\n        break;\n    }\n    return undefined;\n  };\n\n  const validateAllFields = (): boolean => {\n    const newErrors: ValidationErrors = {};\n    let isValid = true;\n\n    (Object.keys(formData) as Array<keyof FormData>).forEach(key => {\n      const error = validateField(key, formData[key]);\n      if (error) {\n        newErrors[key] = error;\n        isValid = false;\n      }\n    });\n\n    setErrors(newErrors);\n    return isValid;\n  };\n\n  // Form validation - check for meaningful input\n  const isFormValid = (): boolean => {\n    // Check if all fields have content\n    const hasAllContent = Object.values(formData).every(value => value.trim() !== '');\n    if (!hasAllContent) {\n      return false;\n    }\n\n    // Validate each field fresh to ensure no stale errors\n    const fieldsToValidate: Array<keyof FormData> = ['weeklyHours', 'monthlyIncome', 'sessionFee', 'noShowRate'];\n    const hasValidationErrors = fieldsToValidate.some(field => {\n      const error = validateField(field, formData[field]);\n      return error !== undefined;\n    });\n\n    if (hasValidationErrors) {\n      return false;\n    }\n\n    // Parse and validate numeric values\n    try {\n      const parsed = parseFormData();\n      return (\n        parsed.weeklyHours > 0 && parsed.weeklyHours <= 80 &&\n        parsed.monthlyIncome > 0 &&\n        parsed.sessionFee > 0 &&\n        parsed.noShowRate >= 0 && parsed.noShowRate <= 50\n      );\n    } catch {\n      return false;\n    }\n  };\n\n  const handleInputChange = (name: keyof FormData, value: string) => {\n    let processedValue = value;\n\n    // Apply currency formatting for currency fields\n    if (name === 'monthlyIncome' || name === 'sessionFee') {\n      processedValue = formatCurrency(value);\n    }\n\n    // Update form data\n    setFormData(prev => ({ ...prev, [name]: processedValue }));\n\n    // Always validate the field and clear errors when valid\n    const error = validateField(name, processedValue);\n    setErrors(prev => {\n      const newErrors = { ...prev };\n      if (error) {\n        newErrors[name] = error;\n      } else {\n        // Clear the error if field is now valid\n        delete newErrors[name];\n      }\n      return newErrors;\n    });\n  };\n\n  const handleBlur = (name: keyof FormData) => {\n    setTouched(prev => ({ ...prev, [name]: true }));\n    const error = validateField(name, formData[name]);\n    setErrors(prev => ({ ...prev, [name]: error }));\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Mark all fields as touched\n    setTouched({\n      weeklyHours: true,\n      monthlyIncome: true,\n      sessionFee: true,\n      noShowRate: true\n    });\n\n    if (validateAllFields()) {\n      const calculationInputs = parseFormData();\n      analytics.calculateClicked(calculationInputs);\n      onCalculate(calculationInputs);\n    }\n  };\n\n  return (\n    <Card className=\"w-full max-w-4xl mx-auto bg-nesso-card rounded-2xl ring-1 ring-black/5 shadow-sm\">\n      <CardContent className=\"p-8\">\n        <form onSubmit={handleSubmit} className=\"space-y-8\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            {/* Goals Column */}\n            <div className=\"space-y-6\">\n              <div className=\"border-b border-nesso-navy/10 pb-3\">\n                <h2 className=\"text-lg font-semibold text-nesso-navy\">Goals</h2>\n                <p className=\"text-sm text-nesso-ink/60\">What you want to achieve</p>\n              </div>\n\n              {/* Weekly Hours */}\n              <div className=\"space-y-2\">\n                <Label\n                  htmlFor=\"weeklyHours\"\n                  className=\"text-sm font-medium text-nesso-navy\"\n                >\n                  Weekly work hours\n                </Label>\n                <p className=\"text-xs text-nesso-ink/60\">Include both client sessions and admin time</p>\n                <Input\n                  id=\"weeklyHours\"\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"80\"\n                  value={formData.weeklyHours}\n                  onChange={(e) => handleInputChange('weeklyHours', e.target.value)}\n                  onBlur={() => handleBlur('weeklyHours')}\n                  className={`transition-colors placeholder:text-nesso-ink/40 ${\n                    errors.weeklyHours && touched.weeklyHours\n                      ? 'border-red-500 focus:border-red-500'\n                      : 'focus:border-nesso-peach'\n                  }`}\n                  aria-describedby={errors.weeklyHours && touched.weeklyHours ? 'weeklyHours-error' : undefined}\n                  placeholder=\"30\"\n                />\n                {errors.weeklyHours && touched.weeklyHours && (\n                  <p id=\"weeklyHours-error\" className=\"text-sm text-red-600\" role=\"alert\">\n                    {errors.weeklyHours}\n                  </p>\n                )}\n              </div>\n\n              {/* Monthly Income */}\n              <div className=\"space-y-2\">\n                <Label\n                  htmlFor=\"monthlyIncome\"\n                  className=\"text-sm font-medium text-nesso-navy\"\n                >\n                  Desired income per month\n                </Label>\n                <p className=\"text-xs text-nesso-ink/60\">Your monthly pre-tax income target</p>\n                <Input\n                  id=\"monthlyIncome\"\n                  type=\"text\"\n                  value={formData.monthlyIncome}\n                  onChange={(e) => handleInputChange('monthlyIncome', e.target.value)}\n                  onBlur={() => handleBlur('monthlyIncome')}\n                  className={`transition-colors placeholder:text-nesso-ink/40 ${\n                    errors.monthlyIncome && touched.monthlyIncome\n                      ? 'border-red-500 focus:border-red-500'\n                      : 'focus:border-nesso-peach'\n                  }`}\n                  aria-describedby={errors.monthlyIncome && touched.monthlyIncome ? 'monthlyIncome-error' : undefined}\n                  placeholder=\"$8,000\"\n                />\n                {errors.monthlyIncome && touched.monthlyIncome && (\n                  <p id=\"monthlyIncome-error\" className=\"text-sm text-red-600\" role=\"alert\">\n                    {errors.monthlyIncome}\n                  </p>\n                )}\n              </div>\n            </div>\n\n            {/* Details Column */}\n            <div className=\"space-y-6\">\n              <div className=\"border-b border-nesso-navy/10 pb-3\">\n                <h2 className=\"text-lg font-semibold text-nesso-navy\">Details</h2>\n                <p className=\"text-sm text-nesso-ink/60\">About your current practice</p>\n              </div>\n\n              {/* Session Fee */}\n              <div className=\"space-y-2\">\n                <Label\n                  htmlFor=\"sessionFee\"\n                  className=\"text-sm font-medium text-nesso-navy\"\n                >\n                  Current session fee\n                </Label>\n                <p className=\"text-xs text-nesso-ink/60\">Average fee for both self-pay and insurance sessions</p>\n                <Input\n                  id=\"sessionFee\"\n                  type=\"text\"\n                  value={formData.sessionFee}\n                  onChange={(e) => handleInputChange('sessionFee', e.target.value)}\n                  onBlur={() => handleBlur('sessionFee')}\n                  className={`transition-colors placeholder:text-nesso-ink/40 ${\n                    errors.sessionFee && touched.sessionFee\n                      ? 'border-red-500 focus:border-red-500'\n                      : 'focus:border-nesso-peach'\n                  }`}\n                  aria-describedby={errors.sessionFee && touched.sessionFee ? 'sessionFee-error' : undefined}\n                  placeholder=\"$150\"\n                />\n                {errors.sessionFee && touched.sessionFee && (\n                  <p id=\"sessionFee-error\" className=\"text-sm text-red-600\" role=\"alert\">\n                    {errors.sessionFee}\n                  </p>\n                )}\n              </div>\n\n              {/* No Show Rate */}\n              <div className=\"space-y-2\">\n                <Label\n                  htmlFor=\"noShowRate\"\n                  className=\"text-sm font-medium text-nesso-navy\"\n                >\n                  In a typical week, how many clients cancel or no-show?\n                </Label>\n                <p className=\"text-xs text-nesso-ink/60\">Average number of cancellations per week</p>\n                <Input\n                  id=\"noShowRate\"\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"50\"\n                  step=\"1\"\n                  value={formData.noShowRate}\n                  onChange={(e) => handleInputChange('noShowRate', e.target.value)}\n                  onBlur={() => handleBlur('noShowRate')}\n                  className={`transition-colors placeholder:text-nesso-ink/40 ${\n                    errors.noShowRate && touched.noShowRate\n                      ? 'border-red-500 focus:border-red-500'\n                      : 'focus:border-nesso-peach'\n                  }`}\n                  aria-describedby={errors.noShowRate && touched.noShowRate ? 'noShowRate-error' : undefined}\n                  placeholder=\"2\"\n                />\n                {errors.noShowRate && touched.noShowRate && (\n                  <p id=\"noShowRate-error\" className=\"text-sm text-red-600\" role=\"alert\">\n                    {errors.noShowRate}\n                  </p>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex justify-center pt-4\">\n            <Button\n              type=\"submit\"\n              disabled={!isFormValid() || isCalculating}\n              className=\"px-8 py-3 h-12 rounded-xl bg-nesso-coral hover:bg-nesso-coral/90 text-black font-medium transition-colors focus:ring-2 focus:ring-nesso-coral disabled:opacity-50 disabled:cursor-not-allowed\"\n              data-event=\"calculate-clicked\"\n              aria-label={isCalculating ? 'Calculating...' : 'Calculate caseload'}\n            >\n              {isCalculating ? 'Calculating...' : 'Calculate'}\n            </Button>\n          </div>\n        </form>\n      </CardContent>\n    </Card>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 960, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/components/SustainabilityMeter.tsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\n// import { Slider } from '@/components/ui/slider';\n// import { formatCurrency, formatRange } from '@/lib/calculations';\n\ninterface SustainabilityMeterProps {\n  targetHours: number;\n  sessionHours: number;\n  docHours: number;\n  totalHours: number;\n  monthlyIncome: number;\n  sessionFee: number;\n  weeklyCancellations: number;\n  // Props for session fee variation\n  currentSessionFee: number;\n  originalSessionFee: number;\n  onSessionFeeChange: (fee: number) => void;\n  onGoalsChange: (weeklyHours: number, monthlyIncome: number) => void;\n  onInputsChange: (weeklyHours: number, monthlyIncome: number, sessionFee: number, weeklyCancellations: number) => void;\n  previewResults?: {\n    caseloadRange: { low: number; high: number };\n    revenueProjection: number;\n  };\n}\n\nexport function SustainabilityMeter({\n  targetHours,\n  sessionHours,\n  docHours,\n  totalHours,\n  monthlyIncome,\n  sessionFee,\n  weeklyCancellations,\n  // currentSessionFee,\n  // originalSessionFee,\n  onSessionFeeChange,\n  // onGoalsChange,\n  onInputsChange,\n  // previewResults\n}: SustainabilityMeterProps) {\n  // Local state for all editable inputs with debouncing\n  const [localWeeklyHours, setLocalWeeklyHours] = useState(targetHours);\n  const [localMonthlyIncome, setLocalMonthlyIncome] = useState(monthlyIncome);\n  const [localSessionFee, setLocalSessionFee] = useState(sessionFee);\n  const [localWeeklyCancellations, setLocalWeeklyCancellations] = useState(weeklyCancellations);\n  const [showInputsPanel, setShowInputsPanel] = useState(false);\n\n  // Debounced callback for all input changes (simplified inline version)\n  const debouncedInputsChange = useCallback((weeklyHours: number, income: number, fee: number, cancellations: number) => {\n    const timeout = setTimeout(() => {\n      onInputsChange(weeklyHours, income, fee, cancellations);\n    }, 300);\n    return () => clearTimeout(timeout);\n  }, [onInputsChange]);\n\n  // Update local state when props change\n  useEffect(() => {\n    setLocalWeeklyHours(targetHours);\n  }, [targetHours]);\n\n  useEffect(() => {\n    setLocalMonthlyIncome(monthlyIncome);\n  }, [monthlyIncome]);\n\n  useEffect(() => {\n    setLocalSessionFee(sessionFee);\n  }, [sessionFee]);\n\n  useEffect(() => {\n    setLocalWeeklyCancellations(weeklyCancellations);\n  }, [weeklyCancellations]);\n\n  // Handle input changes with validation\n  const handleWeeklyHoursChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = Math.max(5, Math.min(80, parseFloat(e.target.value) || 0));\n    setLocalWeeklyHours(value);\n    debouncedInputsChange(value, localMonthlyIncome, localSessionFee, localWeeklyCancellations);\n  };\n\n  const handleMonthlyIncomeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = Math.max(0, parseFloat(e.target.value.replace(/[^0-9.]/g, '')) || 0);\n    setLocalMonthlyIncome(value);\n    debouncedInputsChange(localWeeklyHours, value, localSessionFee, localWeeklyCancellations);\n  };\n\n  const handleSessionFeeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = Math.max(0, parseFloat(e.target.value.replace(/[^0-9.]/g, '')) || 0);\n    setLocalSessionFee(value);\n    // Also update the slider state\n    onSessionFeeChange(value);\n    debouncedInputsChange(localWeeklyHours, localMonthlyIncome, value, localWeeklyCancellations);\n  };\n\n  const handleWeeklyCancellationsChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = Math.max(0, Math.min(20, parseInt(e.target.value) || 0));\n    setLocalWeeklyCancellations(value);\n    debouncedInputsChange(localWeeklyHours, localMonthlyIncome, localSessionFee, value);\n  };\n\n  // Calculate new status based on updated requirements\n  const getStatus = () => {\n    if (totalHours <= 0.7 * targetHours) return 'under-goal';\n    if (totalHours <= targetHours) return 'sustainable';\n    return 'over-goal';\n  };\n\n  const currentStatus = getStatus();\n\n  const getStatusText = () => {\n    switch (currentStatus) {\n      case 'sustainable':\n        return 'Balanced';\n      case 'over-goal':\n        return 'Not sustainable';\n      case 'under-goal':\n        return 'Room to spare';\n    }\n  };\n\n\n  // Calculate message variables\n  const hoursLeft = Math.max(targetHours - totalHours, 0);\n  const hoursOver = Math.max(totalHours - targetHours, 0);\n\n  const getStatusMessage = () => {\n    switch (currentStatus) {\n      case 'under-goal':\n        return `This plan uses about ${totalHours.toFixed(1)}h, leaving ${hoursLeft.toFixed(1)}h within your ${targetHours}h goal.`;\n      case 'sustainable':\n        return `This plan fits within your ${targetHours}h goal. Right on target.`;\n      case 'over-goal':\n        return `This plan requires ${totalHours.toFixed(1)}h, which is ${hoursOver.toFixed(1)}h over your ${targetHours}h goal.`;\n    }\n  };\n\n  // Enhanced accessibility announcement\n  const getAccessibilityAnnouncement = () => {\n    const statusText = getStatusText();\n    const baseAnnouncement = `Projected workload ${totalHours.toFixed(1)} hours. Goal ${targetHours} hours.`;\n\n    switch (currentStatus) {\n      case 'under-goal':\n        return `${baseAnnouncement} You have ${hoursLeft.toFixed(1)} hours available. Status: ${statusText}.`;\n      case 'sustainable':\n        return `${baseAnnouncement} You are right on target. Status: ${statusText}.`;\n      case 'over-goal':\n        return `${baseAnnouncement} You are ${hoursOver.toFixed(1)} hours over. Status: ${statusText}.`;\n    }\n  };\n\n  // Calculate bar fill percentages\n  const sessionPercentage = Math.min((sessionHours / targetHours) * 100, 100);\n  const docPercentage = Math.min((docHours / targetHours) * 100, 100 - sessionPercentage);\n  const isOverGoal = totalHours > targetHours;\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Comprehensive Inputs Panel */}\n      <div className=\"md:hidden\">\n        {/* Mobile: Collapsed summary with toggle */}\n        <button\n          onClick={() => setShowInputsPanel(!showInputsPanel)}\n          className=\"w-full flex items-center justify-between p-3 bg-nesso-navy/5 rounded-lg text-sm font-medium text-nesso-navy\"\n          aria-expanded={showInputsPanel}\n        >\n          <span>Edit inputs</span>\n          <span className={`transform transition-transform ${showInputsPanel ? 'rotate-180' : ''}`}>\n            ▼\n          </span>\n        </button>\n\n        {showInputsPanel && (\n          <div className=\"mt-3 space-y-3 p-4 bg-nesso-navy/5 rounded-lg\">\n            {/* Mobile: Stacked inputs */}\n            <div className=\"space-y-3\">\n              <div>\n                <label htmlFor=\"weekly-hours-mobile\" className=\"block text-sm font-medium text-nesso-navy mb-1\">\n                  Weekly work hours\n                </label>\n                <input\n                  id=\"weekly-hours-mobile\"\n                  type=\"number\"\n                  min=\"5\"\n                  max=\"80\"\n                  step=\"1\"\n                  value={localWeeklyHours}\n                  onChange={handleWeeklyHoursChange}\n                  className=\"w-full px-3 py-2 text-sm border border-nesso-navy/20 rounded focus:border-nesso-peach focus:outline-none\"\n                  aria-label=\"Weekly work hours\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"monthly-income-mobile\" className=\"block text-sm font-medium text-nesso-navy mb-1\">\n                  Desired monthly income\n                </label>\n                <input\n                  id=\"monthly-income-mobile\"\n                  type=\"text\"\n                  value={`$${localMonthlyIncome.toLocaleString()}`}\n                  onChange={handleMonthlyIncomeChange}\n                  className=\"w-full px-3 py-2 text-sm border border-nesso-navy/20 rounded focus:border-nesso-peach focus:outline-none\"\n                  aria-label=\"Desired monthly income goal\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"session-fee-mobile\" className=\"block text-sm font-medium text-nesso-navy mb-1\">\n                  Current session fee\n                </label>\n                <input\n                  id=\"session-fee-mobile\"\n                  type=\"text\"\n                  value={`$${localSessionFee.toLocaleString()}`}\n                  onChange={handleSessionFeeChange}\n                  className=\"w-full px-3 py-2 text-sm border border-nesso-navy/20 rounded focus:border-nesso-peach focus:outline-none\"\n                  aria-label=\"Current session fee\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"weekly-cancellations-mobile\" className=\"block text-sm font-medium text-nesso-navy mb-1\">\n                  In a typical week, how many clients cancel or no-show?\n                </label>\n                <input\n                  id=\"weekly-cancellations-mobile\"\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"20\"\n                  step=\"1\"\n                  value={localWeeklyCancellations}\n                  onChange={handleWeeklyCancellationsChange}\n                  className=\"w-full px-3 py-2 text-sm border border-nesso-navy/20 rounded focus:border-nesso-peach focus:outline-none\"\n                  aria-label=\"Weekly cancellations and no-shows\"\n                />\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Desktop: 2x2 Grid */}\n      <div className=\"hidden md:grid md:grid-cols-2 gap-4 p-4 bg-nesso-navy/5 rounded-lg\">\n        <div>\n          <label htmlFor=\"weekly-hours-desktop\" className=\"block text-sm font-medium text-nesso-navy mb-1\">\n            Weekly work hours\n          </label>\n          <input\n            id=\"weekly-hours-desktop\"\n            type=\"number\"\n            min=\"5\"\n            max=\"80\"\n            step=\"1\"\n            value={localWeeklyHours}\n            onChange={handleWeeklyHoursChange}\n            className=\"w-full px-3 py-2 text-sm border border-nesso-navy/20 rounded focus:border-nesso-peach focus:outline-none\"\n            aria-label=\"Weekly work hours\"\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"monthly-income-desktop\" className=\"block text-sm font-medium text-nesso-navy mb-1\">\n            Monthly income\n          </label>\n          <input\n            id=\"monthly-income-desktop\"\n            type=\"text\"\n            value={`$${localMonthlyIncome.toLocaleString()}`}\n            onChange={handleMonthlyIncomeChange}\n            className=\"w-full px-3 py-2 text-sm border border-nesso-navy/20 rounded focus:border-nesso-peach focus:outline-none\"\n            aria-label=\"Monthly income goal\"\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"session-fee-desktop\" className=\"block text-sm font-medium text-nesso-navy mb-1\">\n            Current session fee\n          </label>\n          <input\n            id=\"session-fee-desktop\"\n            type=\"text\"\n            value={`$${localSessionFee.toLocaleString()}`}\n            onChange={handleSessionFeeChange}\n            className=\"w-full px-3 py-2 text-sm border border-nesso-navy/20 rounded focus:border-nesso-peach focus:outline-none\"\n            aria-label=\"Current session fee\"\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"weekly-cancellations-desktop\" className=\"block text-sm font-medium text-nesso-navy mb-1\">\n            In a typical week, how many clients cancel or no-show?\n          </label>\n          <input\n            id=\"weekly-cancellations-desktop\"\n            type=\"number\"\n            min=\"0\"\n            max=\"20\"\n            step=\"1\"\n            value={localWeeklyCancellations}\n            onChange={handleWeeklyCancellationsChange}\n            className=\"w-full px-3 py-2 text-sm border border-nesso-navy/20 rounded focus:border-nesso-peach focus:outline-none\"\n            aria-label=\"Weekly cancellations and no-shows\"\n          />\n        </div>\n      </div>\n\n      {/* Self-explanatory workload bar */}\n      <div className=\"space-y-3\">\n        {/* Container with fixed width to prevent overflow */}\n        <div className=\"relative w-full\">\n          {/* Bar container with overflow containment */}\n          <div className=\"relative w-full h-8 overflow-hidden\">\n            {/* Base bar track representing the weekly goal */}\n            <div className=\"absolute inset-0 bg-nesso-navy/10 rounded-md\" />\n\n            {/* Progress fill container - controlled overflow */}\n            <div className=\"relative h-full flex overflow-hidden\">\n              {/* Sessions segment A */}\n              <div\n                className=\"bg-nesso-coral flex items-center justify-center text-black text-xs font-medium min-w-0 relative\"\n                style={{\n                  width: `${(sessionHours / targetHours) * 100}%`,\n                }}\n                title={`Sessions: ${sessionHours.toFixed(1)}h`}\n              >\n                {/* Desktop: inline label */}\n                <span className=\"hidden md:block text-xs font-medium truncate\">\n                  {sessionHours > 3 && sessionPercentage > 20 ? `Sessions ${sessionHours.toFixed(1)}h` : ''}\n                </span>\n              </div>\n\n              {/* Documentation segment B */}\n              <div\n                className=\"bg-nesso-purple flex items-center justify-center text-white text-xs font-medium min-w-0 relative\"\n                style={{\n                  width: `${(docHours / targetHours) * 100}%`,\n                }}\n                title={`Documentation: ${docHours.toFixed(1)}h`}\n              >\n                {/* Desktop: inline label */}\n                <span className=\"hidden md:block text-xs font-medium truncate\">\n                  {docHours > 2 && docPercentage > 15 ? `Documentation ${docHours.toFixed(1)}h` : ''}\n                </span>\n              </div>\n            </div>\n\n            {/* Overflow indicator - absolutely positioned */}\n            {isOverGoal && (\n              <div\n                className=\"absolute top-0 bg-red-500 h-full flex items-center justify-center text-white text-xs font-medium\"\n                style={{\n                  left: '100%',\n                  width: `${Math.min(((totalHours - targetHours) / targetHours) * 100, 50)}%`,\n                }}\n                title={`Over goal by ${hoursOver.toFixed(1)}h`}\n              >\n                <span className=\"text-xs font-medium\">Over</span>\n              </div>\n            )}\n          </div>\n\n          {/* Fixed edge labels */}\n          <div className=\"flex justify-between items-center mt-1\">\n            <div className=\"text-xs text-nesso-ink/60 font-medium\">0hrs</div>\n            <div className=\"text-xs text-nesso-ink/60 font-medium\">Goal: {targetHours}hrs</div>\n          </div>\n\n          {/* Legend under the bar */}\n          <div className=\"mt-3 flex flex-wrap gap-4 justify-center text-xs\">\n            <div className=\"flex items-center gap-1\">\n              <div className=\"w-3 h-3 bg-nesso-coral rounded-sm\"></div>\n              <span>Sessions {sessionHours.toFixed(1)}h</span>\n            </div>\n            <div className=\"flex items-center gap-1\">\n              <div className=\"w-3 h-3 bg-nesso-purple rounded-sm\"></div>\n              <span>Documentation time {docHours.toFixed(1)}h</span>\n            </div>\n            <div className=\"flex items-center gap-1\">\n              <div className=\"w-3 h-3 bg-nesso-navy/20 rounded-sm\"></div>\n              <span>Available hours {Math.max(0, targetHours - totalHours).toFixed(1)}h</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Single insight sentence with enhanced aria-live */}\n      <div\n        className=\"text-sm text-nesso-ink/80\"\n        aria-live=\"polite\"\n        aria-atomic=\"true\"\n        aria-label={`Projected ${totalHours.toFixed(1)} hours of ${targetHours} hour goal`}\n      >\n        <div className=\"flex items-start gap-3\">\n          <p className=\"flex-1\">{getStatusMessage()}</p>\n          <div className={`\n            inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium flex-shrink-0\n            ${currentStatus === 'under-goal' ? 'bg-green-100 text-green-800' : ''}\n            ${currentStatus === 'sustainable' ? 'bg-blue-100 text-blue-800' : ''}\n            ${currentStatus === 'over-goal' ? 'bg-red-100 text-red-800' : ''}\n          `}>\n            {getStatusText()}\n          </div>\n        </div>\n        {/* Documentation note with info icon */}\n        <div className=\"flex items-center gap-2 mt-2 text-xs text-nesso-ink/60\">\n          <svg\n            className=\"w-3.5 h-3.5 flex-shrink-0\"\n            viewBox=\"0 0 16 16\"\n            fill=\"currentColor\"\n            aria-hidden=\"true\"\n          >\n            <path fillRule=\"evenodd\" d=\"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM9 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM6.75 8a.75.75 0 0 0 0 1.5h.75v1.75a.75.75 0 0 0 1.5 0v-2.5A.75.75 0 0 0 8.25 8h-1.5Z\" clipRule=\"evenodd\" />\n          </svg>\n          <span>This assumes 20 minutes per client per week for documentation.</span>\n        </div>\n        {/* Hidden accessibility announcement for screen readers */}\n        <span className=\"sr-only\">\n          {getAccessibilityAnnouncement()}. Sessions take {sessionHours.toFixed(1)} hours, documentation takes {docHours.toFixed(1)} hours.\n        </span>\n      </div>\n\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;;;;AAwBO,SAAS,oBAAoB,KAcT;QAdS,EAClC,WAAW,EACX,YAAY,EACZ,QAAQ,EACR,UAAU,EACV,aAAa,EACb,UAAU,EACV,mBAAmB,EACnB,qBAAqB;IACrB,sBAAsB;IACtB,kBAAkB,EAClB,iBAAiB;IACjB,cAAc,EAEW,GAdS;;IAelC,sDAAsD;IACtD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IACzD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yKAAQ,EAAC;IAC7D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,0BAA0B,4BAA4B,GAAG,IAAA,yKAAQ,EAAC;IACzE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IAEvD,uEAAuE;IACvE,MAAM,wBAAwB,IAAA,4KAAW;kEAAC,CAAC,aAAqB,QAAgB,KAAa;YAC3F,MAAM,UAAU;kFAAW;oBACzB,eAAe,aAAa,QAAQ,KAAK;gBAC3C;iFAAG;YACH;0EAAO,IAAM,aAAa;;QAC5B;iEAAG;QAAC;KAAe;IAEnB,uCAAuC;IACvC,IAAA,0KAAS;yCAAC;YACR,oBAAoB;QACtB;wCAAG;QAAC;KAAY;IAEhB,IAAA,0KAAS;yCAAC;YACR,sBAAsB;QACxB;wCAAG;QAAC;KAAc;IAElB,IAAA,0KAAS;yCAAC;YACR,mBAAmB;QACrB;wCAAG;QAAC;KAAW;IAEf,IAAA,0KAAS;yCAAC;YACR,4BAA4B;QAC9B;wCAAG;QAAC;KAAoB;IAExB,uCAAuC;IACvC,MAAM,0BAA0B,CAAC;QAC/B,MAAM,QAAQ,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;QACrE,oBAAoB;QACpB,sBAAsB,OAAO,oBAAoB,iBAAiB;IACpE;IAEA,MAAM,4BAA4B,CAAC;QACjC,MAAM,QAAQ,KAAK,GAAG,CAAC,GAAG,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY,QAAQ;QAChF,sBAAsB;QACtB,sBAAsB,kBAAkB,OAAO,iBAAiB;IAClE;IAEA,MAAM,yBAAyB,CAAC;QAC9B,MAAM,QAAQ,KAAK,GAAG,CAAC,GAAG,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY,QAAQ;QAChF,mBAAmB;QACnB,+BAA+B;QAC/B,mBAAmB;QACnB,sBAAsB,kBAAkB,oBAAoB,OAAO;IACrE;IAEA,MAAM,kCAAkC,CAAC;QACvC,MAAM,QAAQ,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;QACnE,4BAA4B;QAC5B,sBAAsB,kBAAkB,oBAAoB,iBAAiB;IAC/E;IAEA,qDAAqD;IACrD,MAAM,YAAY;QAChB,IAAI,cAAc,MAAM,aAAa,OAAO;QAC5C,IAAI,cAAc,aAAa,OAAO;QACtC,OAAO;IACT;IAEA,MAAM,gBAAgB;IAEtB,MAAM,gBAAgB;QACpB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;QACX;IACF;IAGA,8BAA8B;IAC9B,MAAM,YAAY,KAAK,GAAG,CAAC,cAAc,YAAY;IACrD,MAAM,YAAY,KAAK,GAAG,CAAC,aAAa,aAAa;IAErD,MAAM,mBAAmB;QACvB,OAAQ;YACN,KAAK;gBACH,OAAO,AAAC,wBAA0D,OAAnC,WAAW,OAAO,CAAC,IAAG,eAAkD,OAArC,UAAU,OAAO,CAAC,IAAG,kBAA4B,OAAZ,aAAY;YACrH,KAAK;gBACH,OAAO,AAAC,8BAAyC,OAAZ,aAAY;YACnD,KAAK;gBACH,OAAO,AAAC,sBAAyD,OAApC,WAAW,OAAO,CAAC,IAAG,gBAAiD,OAAnC,UAAU,OAAO,CAAC,IAAG,gBAA0B,OAAZ,aAAY;QACpH;IACF;IAEA,sCAAsC;IACtC,MAAM,+BAA+B;QACnC,MAAM,aAAa;QACnB,MAAM,mBAAmB,AAAC,sBAA0D,OAArC,WAAW,OAAO,CAAC,IAAG,iBAA2B,OAAZ,aAAY;QAEhG,OAAQ;YACN,KAAK;gBACH,OAAO,AAAC,GAA+B,OAA7B,kBAAiB,cAA6D,OAAjD,UAAU,OAAO,CAAC,IAAG,8BAAuC,OAAX,YAAW;YACrG,KAAK;gBACH,OAAO,AAAC,GAAuD,OAArD,kBAAiB,sCAA+C,OAAX,YAAW;YAC5E,KAAK;gBACH,OAAO,AAAC,GAA8B,OAA5B,kBAAiB,aAAuD,OAA5C,UAAU,OAAO,CAAC,IAAG,yBAAkC,OAAX,YAAW;QACjG;IACF;IAEA,iCAAiC;IACjC,MAAM,oBAAoB,KAAK,GAAG,CAAC,AAAC,eAAe,cAAe,KAAK;IACvE,MAAM,gBAAgB,KAAK,GAAG,CAAC,AAAC,WAAW,cAAe,KAAK,MAAM;IACrE,MAAM,aAAa,aAAa;IAEhC,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBACC,SAAS,IAAM,mBAAmB,CAAC;wBACnC,WAAU;wBACV,iBAAe;;0CAEf,6LAAC;0CAAK;;;;;;0CACN,6LAAC;gCAAK,WAAW,AAAC,kCAAqE,OAApC,kBAAkB,eAAe;0CAAM;;;;;;;;;;;;oBAK3F,iCACC,6LAAC;wBAAI,WAAU;kCAEb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;;sDACC,6LAAC;4CAAM,SAAQ;4CAAsB,WAAU;sDAAiD;;;;;;sDAGhG,6LAAC;4CACC,IAAG;4CACH,MAAK;4CACL,KAAI;4CACJ,KAAI;4CACJ,MAAK;4CACL,OAAO;4CACP,UAAU;4CACV,WAAU;4CACV,cAAW;;;;;;;;;;;;8CAIf,6LAAC;;sDACC,6LAAC;4CAAM,SAAQ;4CAAwB,WAAU;sDAAiD;;;;;;sDAGlG,6LAAC;4CACC,IAAG;4CACH,MAAK;4CACL,OAAO,AAAC,IAAuC,OAApC,mBAAmB,cAAc;4CAC5C,UAAU;4CACV,WAAU;4CACV,cAAW;;;;;;;;;;;;8CAIf,6LAAC;;sDACC,6LAAC;4CAAM,SAAQ;4CAAqB,WAAU;sDAAiD;;;;;;sDAG/F,6LAAC;4CACC,IAAG;4CACH,MAAK;4CACL,OAAO,AAAC,IAAoC,OAAjC,gBAAgB,cAAc;4CACzC,UAAU;4CACV,WAAU;4CACV,cAAW;;;;;;;;;;;;8CAIf,6LAAC;;sDACC,6LAAC;4CAAM,SAAQ;4CAA8B,WAAU;sDAAiD;;;;;;sDAGxG,6LAAC;4CACC,IAAG;4CACH,MAAK;4CACL,KAAI;4CACJ,KAAI;4CACJ,MAAK;4CACL,OAAO;4CACP,UAAU;4CACV,WAAU;4CACV,cAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BASvB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAM,SAAQ;gCAAuB,WAAU;0CAAiD;;;;;;0CAGjG,6LAAC;gCACC,IAAG;gCACH,MAAK;gCACL,KAAI;gCACJ,KAAI;gCACJ,MAAK;gCACL,OAAO;gCACP,UAAU;gCACV,WAAU;gCACV,cAAW;;;;;;;;;;;;kCAIf,6LAAC;;0CACC,6LAAC;gCAAM,SAAQ;gCAAyB,WAAU;0CAAiD;;;;;;0CAGnG,6LAAC;gCACC,IAAG;gCACH,MAAK;gCACL,OAAO,AAAC,IAAuC,OAApC,mBAAmB,cAAc;gCAC5C,UAAU;gCACV,WAAU;gCACV,cAAW;;;;;;;;;;;;kCAIf,6LAAC;;0CACC,6LAAC;gCAAM,SAAQ;gCAAsB,WAAU;0CAAiD;;;;;;0CAGhG,6LAAC;gCACC,IAAG;gCACH,MAAK;gCACL,OAAO,AAAC,IAAoC,OAAjC,gBAAgB,cAAc;gCACzC,UAAU;gCACV,WAAU;gCACV,cAAW;;;;;;;;;;;;kCAIf,6LAAC;;0CACC,6LAAC;gCAAM,SAAQ;gCAA+B,WAAU;0CAAiD;;;;;;0CAGzG,6LAAC;gCACC,IAAG;gCACH,MAAK;gCACL,KAAI;gCACJ,KAAI;gCACJ,MAAK;gCACL,OAAO;gCACP,UAAU;gCACV,WAAU;gCACV,cAAW;;;;;;;;;;;;;;;;;;0BAMjB,6LAAC;gBAAI,WAAU;0BAEb,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CAEb,6LAAC;oCAAI,WAAU;;;;;;8CAGf,6LAAC;oCAAI,WAAU;;sDAEb,6LAAC;4CACC,WAAU;4CACV,OAAO;gDACL,OAAO,AAAC,GAAqC,OAAnC,AAAC,eAAe,cAAe,KAAI;4CAC/C;4CACA,OAAO,AAAC,aAAoC,OAAxB,aAAa,OAAO,CAAC,IAAG;sDAG5C,cAAA,6LAAC;gDAAK,WAAU;0DACb,eAAe,KAAK,oBAAoB,KAAK,AAAC,YAAmC,OAAxB,aAAa,OAAO,CAAC,IAAG,OAAK;;;;;;;;;;;sDAK3F,6LAAC;4CACC,WAAU;4CACV,OAAO;gDACL,OAAO,AAAC,GAAiC,OAA/B,AAAC,WAAW,cAAe,KAAI;4CAC3C;4CACA,OAAO,AAAC,kBAAqC,OAApB,SAAS,OAAO,CAAC,IAAG;sDAG7C,cAAA,6LAAC;gDAAK,WAAU;0DACb,WAAW,KAAK,gBAAgB,KAAK,AAAC,iBAAoC,OAApB,SAAS,OAAO,CAAC,IAAG,OAAK;;;;;;;;;;;;;;;;;gCAMrF,4BACC,6LAAC;oCACC,WAAU;oCACV,OAAO;wCACL,MAAM;wCACN,OAAO,AAAC,GAAiE,OAA/D,KAAK,GAAG,CAAC,AAAC,CAAC,aAAa,WAAW,IAAI,cAAe,KAAK,KAAI;oCAC3E;oCACA,OAAO,AAAC,gBAAoC,OAArB,UAAU,OAAO,CAAC,IAAG;8CAE5C,cAAA,6LAAC;wCAAK,WAAU;kDAAsB;;;;;;;;;;;;;;;;;sCAM5C,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;8CAAwC;;;;;;8CACvD,6LAAC;oCAAI,WAAU;;wCAAwC;wCAAO;wCAAY;;;;;;;;;;;;;sCAI5E,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;;;;;sDACf,6LAAC;;gDAAK;gDAAU,aAAa,OAAO,CAAC;gDAAG;;;;;;;;;;;;;8CAE1C,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;;;;;sDACf,6LAAC;;gDAAK;gDAAoB,SAAS,OAAO,CAAC;gDAAG;;;;;;;;;;;;;8CAEhD,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;;;;;sDACf,6LAAC;;gDAAK;gDAAiB,KAAK,GAAG,CAAC,GAAG,cAAc,YAAY,OAAO,CAAC;gDAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOhF,6LAAC;gBACC,WAAU;gBACV,aAAU;gBACV,eAAY;gBACZ,cAAY,AAAC,aAA8C,OAAlC,WAAW,OAAO,CAAC,IAAG,cAAwB,OAAZ,aAAY;;kCAEvE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAE,WAAU;0CAAU;;;;;;0CACvB,6LAAC;gCAAI,WAAW,AAAC,kHAGb,OADA,kBAAkB,eAAe,gCAAgC,IAAG,kBAEpE,OADA,kBAAkB,gBAAgB,8BAA8B,IAAG,kBACJ,OAA/D,kBAAkB,cAAc,4BAA4B,IAAG;0CAEhE;;;;;;;;;;;;kCAIL,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,WAAU;gCACV,SAAQ;gCACR,MAAK;gCACL,eAAY;0CAEZ,cAAA,6LAAC;oCAAK,UAAS;oCAAU,GAAE;oCAA4J,UAAS;;;;;;;;;;;0CAElM,6LAAC;0CAAK;;;;;;;;;;;;kCAGR,6LAAC;wBAAK,WAAU;;4BACb;4BAA+B;4BAAiB,aAAa,OAAO,CAAC;4BAAG;4BAA6B,SAAS,OAAO,CAAC;4BAAG;;;;;;;;;;;;;;;;;;;AAMpI;GA9YgB;KAAA","debugId":null}},
    {"offset": {"line": 1725, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/lib/calculations.ts"],"sourcesContent":["/**\n * Calculation utilities for the Therapist Caseload Calculator\n */\n\nexport interface CalculationInputs {\n  weeklyHours: number;\n  monthlyIncome: number;\n  sessionFee: number;\n  noShowRate: number;\n}\n\nexport interface CalculationResults {\n  baseSessionsNeededPerMonth: number;\n  baseWeeklyCaseload: number;\n  actualSessionsAttended: number;\n  weeklyCaseload: number;\n  estimatedHoursPerWeek: number;\n  sessionHours: number;\n  docHours: number;\n  totalHours: number;\n  revenueProjection: number;\n  sustainabilityStatus: 'sustainable' | 'over-goal' | 'under-goal';\n  caseloadRange: { low: number; high: number };\n  hoursRange: { low: number; high: number };\n}\n\n// Constants - easy to change as requested\nconst MINUTES_PER_SESSION = 60;\nconst DOC_MINUTES_PER_CLIENT = 20; // Average documentation time per client per week\nconst ADMIN_MINUTES_PER_CLIENT = 10; // Legacy admin time (for backward compatibility)\nconst TIME_PER_CLIENT_HOURS = (MINUTES_PER_SESSION + ADMIN_MINUTES_PER_CLIENT) / 60;\nconst WEEKS_PER_MONTH = 4.33;\n\nexport function calculateCaseload(inputs: CalculationInputs): CalculationResults {\n  const { weeklyHours, monthlyIncome, sessionFee, noShowRate } = inputs;\n\n  // Step 1: Calculate sessions needed per month (before considering cancellations)\n  const baseSessionsNeededPerMonth = monthlyIncome / sessionFee;\n\n  // Step 2: Weekly base caseload = sessions per month / 4.33\n  const baseWeeklyCaseload = baseSessionsNeededPerMonth / WEEKS_PER_MONTH;\n\n  // Step 3: Add extra sessions to account for cancellations/no-shows\n  // If 2 clients cancel per week, we need to schedule 2 extra to maintain income\n  const weeklyCaseload = baseWeeklyCaseload + noShowRate;\n\n  // Step 4: Calculate separate time components\n  const sessionHours = weeklyCaseload * (MINUTES_PER_SESSION / 60); // Just session time\n  const docHours = (weeklyCaseload * DOC_MINUTES_PER_CLIENT) / 60; // Documentation time\n  const totalHours = sessionHours + docHours; // Total working time\n\n  // Legacy calculation for backward compatibility\n  const estimatedHoursPerWeek = weeklyCaseload * TIME_PER_CLIENT_HOURS;\n\n  // Step 5: Revenue projection - only count sessions that are actually attended\n  // weeklyCaseload includes buffer for cancellations, so subtract those\n  const actualSessionsAttended = weeklyCaseload - noShowRate;\n  const revenueProjection = actualSessionsAttended * sessionFee * WEEKS_PER_MONTH;\n\n  // Step 6: Sustainability status based on total hours vs weekly goal\n  const sustainabilityStatus = getSustainabilityStatus(totalHours, weeklyHours);\n\n  // Single caseload number (rounded to nearest whole number)\n  const roundedCaseload = Math.round(weeklyCaseload);\n  const caseloadRange = {\n    low: roundedCaseload,\n    high: roundedCaseload\n  };\n\n  // Hours range based on caseload range using total hours\n  const hoursRange = {\n    low: caseloadRange.low * (MINUTES_PER_SESSION + DOC_MINUTES_PER_CLIENT) / 60,\n    high: caseloadRange.high * (MINUTES_PER_SESSION + DOC_MINUTES_PER_CLIENT) / 60\n  };\n\n  return {\n    baseSessionsNeededPerMonth,\n    baseWeeklyCaseload,\n    actualSessionsAttended,\n    weeklyCaseload,\n    estimatedHoursPerWeek, // Keep for backward compatibility\n    sessionHours,\n    docHours,\n    totalHours,\n    revenueProjection,\n    sustainabilityStatus,\n    caseloadRange,\n    hoursRange\n  };\n}\n\nfunction getSustainabilityStatus(totalHours: number, targetHours: number): 'sustainable' | 'over-goal' | 'under-goal' {\n  // Updated status logic based on new requirements:\n  // Room to spare (under-goal): totalHours <= 0.7 * weeklyGoal\n  // Balanced (sustainable): 0.7 * weeklyGoal < totalHours <= weeklyGoal\n  // Over target (over-goal): totalHours > weeklyGoal\n\n  if (totalHours <= 0.7 * targetHours) {\n    return 'under-goal';\n  } else if (totalHours <= targetHours) {\n    return 'sustainable';\n  } else {\n    return 'over-goal';\n  }\n}\n\nexport function formatCurrency(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  }).format(amount);\n}\n\nexport function formatRange(low: number, high: number, suffix = ''): string {\n  return low === high ? `${low}${suffix}` : `${low} to ${high}${suffix}`;\n}\n\nexport interface CalculationBreakdown {\n  step: number;\n  label: string;\n  formula: string;\n  calculation: string;\n  result: string;\n}\n\nexport function getCalculationBreakdown(inputs: CalculationInputs, results: CalculationResults): CalculationBreakdown[] {\n  const { monthlyIncome, sessionFee, noShowRate } = inputs;\n  const { baseSessionsNeededPerMonth, baseWeeklyCaseload, weeklyCaseload, totalHours } = results;\n\n  return [\n    {\n      step: 1,\n      label: \"Income to clients\",\n      formula: \"\",\n      calculation: \"\",\n      result: `To reach your ${formatCurrency(monthlyIncome)} monthly goal at ${formatCurrency(sessionFee)}/session, you'd need about ${Math.round(baseSessionsNeededPerMonth)} sessions per month (≈\\u00A0${Math.round(baseWeeklyCaseload)}\\u00A0clients\\u00A0per\\u00A0week).`\n    },\n    {\n      step: 2,\n      label: \"Cancellations\",\n      formula: \"\",\n      calculation: \"\",\n      result: `Adding ${noShowRate} ${noShowRate === 1 ? 'cancellation' : 'cancellations'} per week means scheduling about ${Math.round(weeklyCaseload)}\\u00A0clients\\u00A0per\\u00A0week.`\n    },\n    {\n      step: 3,\n      label: \"Time commitment\",\n      formula: \"\",\n      calculation: \"\",\n      result: `That equals about ${Math.round(totalHours)}h/week, including a 20 minute documentation buffer per client.`\n    }\n  ];\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1849, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/components/ResultsGrid.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { SustainabilityMeter } from './SustainabilityMeter';\nimport { CalculationResults, CalculationInputs, calculateCaseload, formatRange, formatCurrency, getCalculationBreakdown } from '@/lib/calculations';\nimport { analytics } from '@/lib/analytics';\n\ninterface ResultsGridProps {\n  results: CalculationResults;\n  originalInputs: CalculationInputs;\n  onInputsChange: (inputs: CalculationInputs) => void;\n}\n\nexport function ResultsGrid({ originalInputs, onInputsChange }: ResultsGridProps) {\n  const [whatIfFee, setWhatIfFee] = useState(originalInputs.sessionFee);\n  const [showCalculation, setShowCalculation] = useState(false);\n\n  // Current working inputs (combines original inputs with goal changes and fee changes)\n  const [currentInputs, setCurrentInputs] = useState(originalInputs);\n\n  // Calculate what-if results with all current inputs\n  const workingInputs = { ...currentInputs, sessionFee: whatIfFee };\n  const whatIfResults = calculateCaseload(workingInputs);\n\n  const handleSliderChange = (newFee: number) => {\n    setWhatIfFee(newFee);\n\n    if (newFee !== originalInputs.sessionFee) {\n      analytics.sessionFeeSliderChanged(newFee);\n    }\n  };\n\n  const handleGoalsChange = (weeklyHours: number, monthlyIncome: number) => {\n    const newInputs = { ...currentInputs, weeklyHours, monthlyIncome };\n    setCurrentInputs(newInputs);\n    onInputsChange(newInputs);\n  };\n\n  const handleAllInputsChange = (weeklyHours: number, monthlyIncome: number, sessionFee: number, weeklyCancellations: number) => {\n    const newInputs = { ...currentInputs, weeklyHours, monthlyIncome, sessionFee, noShowRate: weeklyCancellations };\n    setCurrentInputs(newInputs);\n    setWhatIfFee(sessionFee);\n    onInputsChange(newInputs);\n  };\n\n  const handleEmailReport = () => {\n    analytics.emailReportOpened();\n    // This will be handled by the parent component\n    const event = new CustomEvent('openEmailModal');\n    window.dispatchEvent(event);\n  };\n\n  const handleRestart = () => {\n    // This will be handled by the parent component\n    const event = new CustomEvent('restartCalculator');\n    window.dispatchEvent(event);\n  };\n\n  return (\n    <div className=\"w-full max-w-4xl mx-auto space-y-8\">\n      {/* Single Clean Results Card */}\n      <div className=\"bg-nesso-card rounded-2xl ring-1 ring-black/5 shadow-sm p-8 motion-safe:animate-in motion-safe:fade-in motion-safe:slide-in-from-bottom-4 motion-safe:duration-700\"\n           style={{ opacity: 1 }}>\n\n        {/* Caseload and Revenue */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8\">\n          <div className=\"text-center md:text-left\">\n            <h3 className=\"text-lg font-medium text-nesso-navy mb-2\">Weekly caseload needed</h3>\n            <div className=\"text-3xl font-semibold text-nesso-navy mb-1\">\n              {formatRange(whatIfResults.caseloadRange.low, whatIfResults.caseloadRange.high, ' clients')}\n            </div>\n            <p className=\"text-sm text-nesso-ink/60\">\n              To meet your monthly income goal of {formatCurrency(currentInputs.monthlyIncome)} in {currentInputs.weeklyHours}hrs/week, you&apos;d need {formatRange(whatIfResults.caseloadRange.low, whatIfResults.caseloadRange.high)} clients per week at {formatCurrency(whatIfFee)}.\n            </p>\n          </div>\n\n          <div className=\"text-center md:text-left\">\n            <h3 className=\"text-lg font-medium text-nesso-navy mb-2\">Actual revenue projection</h3>\n            <div className=\"text-3xl font-semibold text-nesso-navy mb-1\">\n              {formatCurrency(whatIfResults.revenueProjection)}\n            </div>\n            <p className=\"text-sm text-nesso-ink/60\">per month</p>\n          </div>\n        </div>\n\n        {/* Workload vs Goal Bar */}\n        <div>\n          <SustainabilityMeter\n            targetHours={currentInputs.weeklyHours}\n            sessionHours={whatIfResults.sessionHours}\n            docHours={whatIfResults.docHours}\n            totalHours={whatIfResults.totalHours}\n            monthlyIncome={currentInputs.monthlyIncome}\n            sessionFee={currentInputs.sessionFee}\n            weeklyCancellations={currentInputs.noShowRate}\n            currentSessionFee={whatIfFee}\n            originalSessionFee={originalInputs.sessionFee}\n            onSessionFeeChange={handleSliderChange}\n            onGoalsChange={handleGoalsChange}\n            onInputsChange={handleAllInputsChange}\n            previewResults={whatIfFee !== originalInputs.sessionFee ? {\n              caseloadRange: whatIfResults.caseloadRange,\n              revenueProjection: whatIfResults.revenueProjection\n            } : undefined}\n          />\n        </div>\n\n        {/* Show Calculation Button */}\n        <div className=\"mt-4 text-center\">\n          <button\n            onClick={() => setShowCalculation(!showCalculation)}\n            className=\"text-sm text-nesso-purple hover:text-nesso-purple/80 transition-colors underline decoration-dotted underline-offset-4\"\n          >\n            {showCalculation ? 'Hide calculation' : 'Show calculation'}\n          </button>\n        </div>\n\n        {/* Calculation Breakdown */}\n        {showCalculation && (\n          <div className=\"mt-6 p-4 sm:p-6 bg-nesso-navy/5 rounded-xl w-full\">\n            <h4 className=\"font-semibold text-nesso-navy mb-4 text-sm sm:text-base\">How we calculated this</h4>\n            <ul className=\"space-y-3 sm:space-y-4 text-sm text-nesso-navy\">\n              {getCalculationBreakdown(currentInputs, whatIfResults).map((step) => (\n                <li key={step.step} className=\"w-full\">\n                  {/* Mobile: Stack vertically */}\n                  <div className=\"flex flex-col gap-1 sm:hidden\">\n                    <span className=\"font-semibold text-nesso-navy\">\n                      • {step.label}:\n                    </span>\n                    <span className=\"text-nesso-navy/90 leading-relaxed\">\n                      {step.result}\n                    </span>\n                  </div>\n\n                  {/* Desktop: Side by side with proper wrapping */}\n                  <div className=\"hidden sm:flex sm:items-start sm:gap-3\">\n                    <span className=\"font-semibold flex-shrink-0 min-w-fit\">\n                      • {step.label}:\n                    </span>\n                    <span className=\"flex-1 leading-relaxed\">\n                      {step.result}\n                    </span>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n\n      {/* Footer CTAs */}\n      <div className=\"flex justify-center gap-4 flex-wrap\">\n        <button\n          onClick={handleRestart}\n          className=\"px-8 py-3 text-base rounded-xl border border-nesso-navy/20 text-nesso-navy hover:bg-nesso-navy/5 transition-colors focus:ring-2 focus:ring-nesso-navy/20\"\n        >\n          Adjust goals\n        </button>\n        <button\n          onClick={handleEmailReport}\n          className=\"px-8 py-3 text-base rounded-xl bg-nesso-coral hover:bg-nesso-coral/90 text-black font-medium shadow-sm transition-colors focus:ring-2 focus:ring-nesso-coral\"\n        >\n          Email me my caseload plan\n        </button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2196, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,KAEoC;QAFpC,EACd,GAAG,OAC+C,GAFpC;IAGd,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,KAEgC;QAFhC,EACrB,GAAG,OACkD,GAFhC;IAGrB,qBAAO,6LAAC,gLAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,KAEgC;QAFhC,EACpB,GAAG,OACiD,GAFhC;IAGpB,qBAAO,6LAAC,+KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,KAEgC;QAFhC,EACnB,GAAG,OACgD,GAFhC;IAGnB,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,KAGgC;QAHhC,EACrB,SAAS,EACT,GAAG,OACkD,GAHhC;IAIrB,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,KAOtB;QAPsB,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ,GAPsB;IAQrB,qBACE,6LAAC;QAAa,aAAU;;0BACtB,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,4HAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6LAAC,8KAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,6LAAC,4MAAK;;;;;0CACN,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACpB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACpB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,KAGgC;QAHhC,EACnB,SAAS,EACT,GAAG,OACgD,GAHhC;IAInB,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,KAGgC;QAHhC,EACzB,SAAS,EACT,GAAG,OACsD,GAHhC;IAIzB,qBACE,6LAAC,oLAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 2412, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/components/EmailReportModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { CalculationResults, CalculationInputs } from '@/lib/calculations';\nimport { analytics } from '@/lib/analytics';\nimport { toast } from 'sonner';\n\ninterface EmailReportModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  results: CalculationResults;\n  inputs: CalculationInputs;\n}\n\n// Function stub for backend integration\nasync function sendReport(email: string, results: CalculationResults, inputs: CalculationInputs): Promise<void> {\n  // TODO: Replace with actual API call\n  console.log('Sending report to:', email);\n  console.log('Report data:', { results, inputs });\n\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000));\n\n  // For demo purposes, just log the payload\n  console.log('Report sent successfully');\n}\n\nexport function EmailReportModal({ isOpen, onClose, results, inputs }: EmailReportModalProps) {\n  const [email, setEmail] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [emailError, setEmailError] = useState('');\n\n  const validateEmail = (email: string): boolean => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      return false;\n    }\n    // Block @icloud email addresses\n    if (email.toLowerCase().includes('@icloud.com')) {\n      return false;\n    }\n    return true;\n  };\n\n  const handleEmailChange = (value: string) => {\n    setEmail(value);\n\n    // Clear errors if the field is empty\n    if (!value) {\n      setEmailError('');\n      return;\n    }\n\n    // Real-time validation as user types\n    if (value && !validateEmail(value)) {\n      if (value.toLowerCase().includes('@icloud.com')) {\n        setEmailError('iCloud email addresses are not supported. Please use a different email provider.');\n      } else if (value.includes('@') && !(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value))) {\n        setEmailError('Please enter a valid email address');\n      }\n    } else if (value && validateEmail(value)) {\n      setEmailError('');\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!email) {\n      setEmailError('Email is required');\n      return;\n    }\n\n    if (!validateEmail(email)) {\n      if (email.toLowerCase().includes('@icloud.com')) {\n        setEmailError('iCloud email addresses are not supported. Please use a different email provider.');\n      } else {\n        setEmailError('Please enter a valid email address');\n      }\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      await sendReport(email, results, inputs);\n      analytics.emailReportSubmitted(email);\n\n      toast.success('Report sent successfully!', {\n        description: 'Check your email for your detailed caseload analysis.'\n      });\n\n      // Close modal and reset form\n      onClose();\n      setEmail('');\n      setEmailError('');\n    } catch (error) {\n      console.error('Failed to send report:', error);\n      toast.error('Failed to send report', {\n        description: 'Please try again or contact support if the problem persists.'\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleOpenChange = (open: boolean) => {\n    if (!open) {\n      onClose();\n      setEmail('');\n      setEmailError('');\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleOpenChange}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle className=\"text-nesso-navy\">\n            Get Your Full Report\n          </DialogTitle>\n          <DialogDescription>\n            Enter your email to receive a detailed PDF report with your caseload analysis,\n            recommendations, and actionable insights.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"email\" className=\"text-sm font-medium text-nesso-navy\">\n              Email address\n            </Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              placeholder=\"your.email@example.com\"\n              value={email}\n              onChange={(e) => handleEmailChange(e.target.value)}\n              className={`transition-colors placeholder:text-nesso-ink/30 ${\n                emailError\n                  ? 'border-red-500 focus:border-red-500'\n                  : 'focus:border-nesso-blue'\n              }`}\n              aria-describedby={emailError ? 'email-error' : undefined}\n              disabled={isSubmitting}\n            />\n            {emailError && (\n              <p id=\"email-error\" className=\"text-sm text-red-600\" role=\"alert\">\n                {emailError}\n              </p>\n            )}\n          </div>\n\n          <div className=\"bg-nesso-bg p-4 rounded-lg text-xs text-nesso-ink/80\">\n            <p className=\"font-medium mb-2\">What you&apos;ll receive:</p>\n            <ul className=\"space-y-1\">\n              <li>• Detailed caseload breakdown and sustainability analysis</li>\n              <li>• Revenue optimization recommendations</li>\n              <li>• Workload management strategies</li>\n              <li>• Customizable planning templates</li>\n            </ul>\n          </div>\n\n          <div className=\"text-xs text-nesso-ink/60\">\n            By submitting this form, you agree to our{' '}\n            <a\n              href=\"/privacy\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-nesso-peach hover:underline underline-offset-2\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              Privacy Policy\n            </a>{' '}\n            and{' '}\n            <a\n              href=\"/terms\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-nesso-peach hover:underline underline-offset-2\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              Terms of Service\n            </a>\n            .\n          </div>\n\n          <DialogFooter className=\"gap-2\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onClose()}\n              disabled={isSubmitting}\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              disabled={isSubmitting || !email || !validateEmail(email)}\n              className=\"bg-nesso-coral hover:bg-nesso-coral/90 focus:ring-2 focus:ring-nesso-coral text-black\"\n              data-event=\"email-report-submitted\"\n            >\n              {isSubmitting ? 'Sending...' : 'Send Report'}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2751, "column": 0}, "map": {"version":3,"sources":["file:///Users/WillM/Desktop/Caseload-calculator-git/caseload-calculator/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Header } from '@/components/Header';\nimport { InputCard } from '@/components/InputCard';\nimport { ResultsGrid } from '@/components/ResultsGrid';\nimport { EmailReportModal } from '@/components/EmailReportModal';\nimport { CalculationInputs, CalculationResults, calculateCaseload } from '@/lib/calculations';\n\nexport default function Home() {\n  const [results, setResults] = useState<CalculationResults | null>(null);\n  const [currentInputs, setCurrentInputs] = useState<CalculationInputs | null>(null);\n  const [isCalculating, setIsCalculating] = useState(false);\n  const [showResults, setShowResults] = useState(false);\n  const [isEmailModalOpen, setIsEmailModalOpen] = useState(false);\n\n  const handleCalculate = async (inputs: CalculationInputs) => {\n    setIsCalculating(true);\n\n    // Brief loading transition for professional feel\n    await new Promise(resolve => setTimeout(resolve, 625));\n\n    const calculationResults = calculateCaseload(inputs);\n    setResults(calculationResults);\n    setCurrentInputs(inputs);\n    setIsCalculating(false);\n    setShowResults(true);\n  };\n\n  const handleRestart = () => {\n    setShowResults(false);\n    setResults(null);\n    setCurrentInputs(null);\n    setIsEmailModalOpen(false);\n  };\n\n\n  const handleInputsChange = (inputs: CalculationInputs) => {\n    const newResults = calculateCaseload(inputs);\n    setResults(newResults);\n    setCurrentInputs(inputs);\n  };\n\n  // Handle custom events from ResultsGrid\n  useEffect(() => {\n    const handleEmailModalEvent = () => {\n      setIsEmailModalOpen(true);\n    };\n\n    const handleRestartEvent = () => {\n      handleRestart();\n    };\n\n    window.addEventListener('openEmailModal', handleEmailModalEvent);\n    window.addEventListener('restartCalculator', handleRestartEvent);\n\n    return () => {\n      window.removeEventListener('openEmailModal', handleEmailModalEvent);\n      window.removeEventListener('restartCalculator', handleRestartEvent);\n    };\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-nesso-bg flex flex-col\">\n      <Header />\n\n      <main className=\"flex-1 container mx-auto max-w-6xl px-4 py-12 space-y-12\">\n        {/* Loading State */}\n        {isCalculating && (\n          <div className=\"flex flex-col items-center justify-center min-h-[60vh] space-y-6\">\n            <div className=\"w-16 h-16 border-4 border-nesso-peach/20 border-t-nesso-peach rounded-full animate-spin\"></div>\n            <div className=\"text-center space-y-2\">\n              <h2 className=\"text-2xl font-semibold text-nesso-navy\">Planning your sustainable caseload…</h2>\n              <p className=\"text-nesso-ink/80\">Balancing income goals with your time and energy.</p>\n            </div>\n          </div>\n        )}\n\n        {/* Step 1: Input Form */}\n        {!showResults && !isCalculating && (\n          <>\n            {/* Hero Section */}\n            <section className=\"text-center space-y-4\">\n              <h1 className=\"text-4xl md:text-5xl font-semibold tracking-tight text-nesso-navy mb-4\">\n                Plan your sustainable caseload\n              </h1>\n            </section>\n\n            {/* Input Form */}\n            <section>\n              <InputCard onCalculate={handleCalculate} isCalculating={isCalculating} />\n            </section>\n\n            {/* Sustainable Philosophy Box */}\n            <section className=\"max-w-4xl mx-auto\">\n              <div className=\"bg-gradient-to-br from-nesso-navy/5 to-nesso-purple/5 rounded-2xl ring-1 ring-nesso-navy/10 p-8\">\n                <div className=\"text-center mb-6\">\n                  <h2 className=\"text-2xl font-semibold text-nesso-navy mb-3\">Our Sustainable Practice Philosophy</h2>\n                  <div className=\"w-16 h-0.5 bg-nesso-purple mx-auto\"></div>\n                </div>\n\n                <div className=\"grid md:grid-cols-3 gap-8 text-center\">\n                  <div className=\"space-y-3\">\n                    <div className=\"w-12 h-12 bg-nesso-coral rounded-full flex items-center justify-center mx-auto\">\n                      <svg className=\"w-6 h-6 text-black\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n                      </svg>\n                    </div>\n                    <h3 className=\"font-semibold text-nesso-navy\">Financial Wellness</h3>\n                    <p className=\"text-sm text-nesso-ink/70 leading-relaxed\">\n                      Your income goals matter. Plan a caseload that meets your financial needs without compromising your well-being or quality of care.\n                    </p>\n                  </div>\n\n                  <div className=\"space-y-3\">\n                    <div className=\"w-12 h-12 bg-nesso-purple rounded-full flex items-center justify-center mx-auto\">\n                      <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    </div>\n                    <h3 className=\"font-semibold text-nesso-navy\">Time Balance</h3>\n                    <p className=\"text-sm text-nesso-ink/70 leading-relaxed\">\n                      Sustainable practice includes time for documentation, self-care, and life outside of work. Honor your boundaries.\n                    </p>\n                  </div>\n\n                  <div className=\"space-y-3\">\n                    <div className=\"w-12 h-12 bg-nesso-navy rounded-full flex items-center justify-center mx-auto\">\n                      <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\n                      </svg>\n                    </div>\n                    <h3 className=\"font-semibold text-nesso-navy\">Quality Care</h3>\n                    <p className=\"text-sm text-nesso-ink/70 leading-relaxed\">\n                      When you&apos;re not overwhelmed, you can show up fully for your clients. Sustainable caseloads improve outcomes for everyone.\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"mt-8 text-center\">\n                  <p className=\"text-sm text-nesso-ink/60 italic max-w-2xl mx-auto\">\n                    &ldquo;The goal isn&apos;t to maximize client capacity—it&apos;s to find the sweet spot where your professional fulfillment, financial goals, and personal well-being align.&rdquo;\n                  </p>\n                </div>\n              </div>\n            </section>\n          </>\n        )}\n\n        {/* Step 2: Results */}\n        {showResults && !isCalculating && results && currentInputs && (\n          <>\n            {/* Results Header */}\n            <section className=\"text-center space-y-4\">\n              <div>\n                <h1 className=\"text-3xl md:text-4xl font-semibold tracking-tight text-nesso-navy mb-2\">\n                  Your Caseload Plan\n                </h1>\n              </div>\n            </section>\n\n            {/* Results Grid */}\n            <section>\n              <ResultsGrid results={results} originalInputs={currentInputs} onInputsChange={handleInputsChange} />\n            </section>\n          </>\n        )}\n      </main>\n\n      {/* Footer - Only show on input step */}\n      {!showResults && !isCalculating && (\n        <footer className=\"bg-nesso-card border-t border-black/5 py-8\">\n          <div className=\"container mx-auto max-w-6xl px-4\">\n            <div className=\"flex flex-col items-center space-y-4\">\n              <div className=\"flex justify-center space-x-8 text-sm text-gray-600\">\n                <a\n                  href=\"/privacy\"\n                  className=\"text-nesso-ink/60 hover:text-nesso-navy transition-colors\"\n                >\n                  Privacy\n                </a>\n                <a\n                  href=\"/terms\"\n                  className=\"text-nesso-ink/60 hover:text-nesso-navy transition-colors\"\n                >\n                  Terms\n                </a>\n              </div>\n              <div className=\"text-sm text-nesso-ink/50\">\n                © 2025 Nesso Labs, Inc\n              </div>\n            </div>\n          </div>\n        </footer>\n      )}\n\n      {/* Email Report Modal */}\n      {showResults && results && currentInputs && (\n        <EmailReportModal\n          isOpen={isEmailModalOpen}\n          onClose={() => setIsEmailModalOpen(false)}\n          results={results}\n          inputs={currentInputs}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}